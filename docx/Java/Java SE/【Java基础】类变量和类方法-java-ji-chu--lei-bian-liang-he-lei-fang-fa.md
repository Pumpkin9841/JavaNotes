---
title: 【Java基础】类变量和类方法
date: 2021-08-15 23:20:52.154
updated: 2021-08-16 01:19:56.299
url: https://pumpkn.xyz/archives/java-ji-chu--lei-bian-liang-he-lei-fang-fa
categories: 
tags: 学习 | Java
---

# 类变量
## 什么是类变量

**类变量** 也叫 **静态变量/静态属性** ， 是该类的所有对象共享的变量，任何一个该类的对象去访问它时，取到的都是相同的值，同样任何一个该类的对象去修改它时，修改的也是同一个变量。

## 如何定义类变量

- 访问修饰符 static 数据类型 变量名 ; [推荐]
- static 访问修饰符 数据类型 变量名 ;

## 如何访问类变量

- 类名.类变量名 [推荐]
- 对象名.类变量名 [静态变量的访问修饰符的访问权限和范围和普通属性是一样的]

## 注意

- static变量是同一个类的所有对象共享的。
- static变量，在类加载的时候就生成了。

例如

```Java
public class VisiStatic {
    public static void main(String[] args) {
        //类名.类变量名
        //说明：类变量是随着类的加载而创建的，且只创建一次
        //类加载是在创建对象之前的，所以不用通过对象就可以访问
        System.out.println(A.name);

        //age是访问不到的，因为为private修饰
        System.out.println(A.age);
    }

}

class A{
    //类变量
    //类变量的访问，必须遵守相关的访问权限
    public static String name = "周" ;
    
    private static int age = 22 ;

}
```

## 类变量使用细节

- **什么时候需要用类变量**

	- 当我们需要让某个类的所有对象都共享一个变量时，就可以考虑使用类变量（静态变量）。

- **类变量普通变量的区别**

	- 类变量时该类的所有对象共享的，而普通变量是每个对象独享的。

- **加上static称为类变量或静态变量，否则称为普通变量**

- **类变量可以通过```类名.类变量名```或者```对象名.类变量名```访问，但推荐使用```类名.类变量名```**

- **类变量是在类加载时就初始化了，也就是说，即使你没有创建对象，只要类加载了，就可以使用类变量了**

- **类变量的生命周期是随着类的加载开始，随着类的消亡而销毁。**



# 类方法
类方法也叫静态方法。

## 形式如下
- 访问修饰符 static 返回数据类型 方法名(){} ; [推荐]
- static 访问修饰符 返回数据类型 方法名(){} ;

## 类方法的调用

- 类名.类方法名
- 对象名.类方法名

**调用的前提是满足访问修饰符的访问权限和范围，如类方法被private修饰，则不可调用**

## 案例
统计所有学生的学费

```Java
public class StaticMethod {

    public static void main(String[] args) {
        Stu.payFee(100);
        Stu.payFee(200);
        Stu.showFree();
    }
}

class Stu{
    //静态变量
    private static double fee ;
    private String name ;

    public Stu(String name) {
        this.name = name;
    }

    //用static修饰后，该方法就是静态方法(类方法)
    //静态方法就可以访问静态变量
    public static void payFee( double fee){
        Stu.fee += fee ;
    }

    public static void showFree(){
        System.out.println(Stu.fee);
    }

}
```


## 类方法经典使用场景
当方法中不涉及到任何和对象相关的成员，则可以将方法设计成静态方法，提高开发效率。
</br>

比如：工具类中的方法Utils，Math类、Array类、Collections集合类。

## 小结

在程序员实际开发，往往会将一些通用的方法，设计成静态方法，这样我们不需要创建对象就可以使用了。

## 类方法使用细节

- 类方法和普通方法都是随着类的加载而加载的，将结构信息存储在方法区。

- 类方法中无this参数，普通方法中隐含着this参数。

- 类方法可以通过类名调用，也可以通过对象名调用。 

- 普通方法和对象有关，需要通过对象名调用。

- 类方法中不允许使用和对象有关的关键字，比如```this```和```super```。 普通方法（成员方法）可以。 

- ```类方法（静态方法）```中只能访问```静态变量```或```静态方法```。

- 普通成员方法，既可以访问普通变量（方法），也可以访问静态变量（方法）。

## 细节小结
 静态方法，只能访问静态成员。非静态方法，可以访问静态成员和非静态成员（必须遵守访问权限）。







 




